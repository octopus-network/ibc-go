(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{731:function(e,t,o){"use strict";o.r(t);var a=o(1),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"migrating-from-v7-to-v8"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#migrating-from-v7-to-v8"}},[e._v("#")]),e._v(" Migrating from v7 to v8")]),e._v(" "),o("p",[e._v("This guide provides instructions for migrating to version "),o("code",[e._v("v8.0.0")]),e._v(" of ibc-go.")]),e._v(" "),o("p",[e._v("There are four sections based on the four potential user groups of this document:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#migrating-from-v7-to-v8"}},[e._v("Migrating from v7 to v8")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#chains"}},[e._v("Chains")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#ibc-apps"}},[e._v("IBC Apps")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#relayers"}},[e._v("Relayers")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#ibc-light-clients"}},[e._v("IBC Light Clients")])])])])]),e._v(" "),o("p",[o("strong",[e._v("Note:")]),e._v(" ibc-go supports golang semantic versioning and therefore all imports must be updated on major version releases.")]),e._v(" "),o("h2",{attrs:{id:"chains"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#chains"}},[e._v("#")]),e._v(" Chains")]),e._v(" "),o("p",[e._v("TODO: https://github.com/cosmos/ibc-go/pull/3505 (extra parameter added to transfer's "),o("code",[e._v("GenesisState")]),e._v(")")]),e._v(" "),o("ul",[o("li",[e._v("You must pass the "),o("code",[e._v("authority")]),e._v(" to the icahost keeper. ("),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3520",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3520"),o("OutboundLink")],1),e._v(") See "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3520/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a",target:"_blank",rel:"noopener noreferrer"}},[e._v("diff"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"Ly8gYXBwLmdvCgoJLy8gSUNBIEhvc3Qga2VlcGVyCglhcHAuSUNBSG9zdEtlZXBlciA9IGljYWhvc3RrZWVwZXIuTmV3S2VlcGVyKAoJCWFwcENvZGVjLCBrZXlzW2ljYWhvc3R0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpY2Fob3N0dHlwZXMuU3ViTW9kdWxlTmFtZSksCgkJYXBwLklCQ0ZlZUtlZXBlciwgLy8gdXNlIGljczI5IGZlZSBhcyBpY3M0V3JhcHBlciBpbiBtaWRkbGV3YXJlIHN0YWNrCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCQlhcHAuQWNjb3VudEtlZXBlciwgc2NvcGVkSUNBSG9zdEtlZXBlciwgYXBwLk1zZ1NlcnZpY2VSb3V0ZXIoKSwKKwkJYXV0aHR5cGVzLk5ld01vZHVsZUFkZHJlc3MoZ292dHlwZXMuTW9kdWxlTmFtZSkuU3RyaW5nKCksCgkpCg=="}}),e._v(" "),o("ul",[o("li",[e._v("You must pass the "),o("code",[e._v("authority")]),e._v(" to the icacontroller keeper. ("),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3590",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3590"),o("OutboundLink")],1),e._v(") See "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3590/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a",target:"_blank",rel:"noopener noreferrer"}},[e._v("diff"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"Ly8gYXBwLmdvCgoJLy8gSUNBIENvbnRyb2xsZXIga2VlcGVyCglhcHAuSUNBQ29udHJvbGxlcktlZXBlciA9IGljYWNvbnRyb2xsZXJrZWVwZXIuTmV3S2VlcGVyKAoJCWFwcENvZGVjLCBrZXlzW2ljYWNvbnRyb2xsZXJ0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSksCgkJYXBwLklCQ0ZlZUtlZXBlciwgLy8gdXNlIGljczI5IGZlZSBhcyBpY3M0V3JhcHBlciBpbiBtaWRkbGV3YXJlIHN0YWNrCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCQlzY29wZWRJQ0FDb250cm9sbGVyS2VlcGVyLCBhcHAuTXNnU2VydmljZVJvdXRlcigpLAorCQlhdXRodHlwZXMuTmV3TW9kdWxlQWRkcmVzcyhnb3Z0eXBlcy5Nb2R1bGVOYW1lKS5TdHJpbmcoKSwKCSkK"}}),e._v(" "),o("ul",[o("li",[e._v("You must pass the "),o("code",[e._v("authority")]),e._v(" to the ibctransfer keeper. ("),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3553",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3553"),o("OutboundLink")],1),e._v(") See "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3553/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a",target:"_blank",rel:"noopener noreferrer"}},[e._v("diff"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"Ly8gYXBwLmdvCgoJLy8gQ3JlYXRlIFRyYW5zZmVyIEtlZXBlciBhbmQgcGFzcyBJQkNGZWVLZWVwZXIgYXMgZXhwZWN0ZWQgQ2hhbm5lbCBhbmQgUG9ydEtlZXBlcgoJLy8gc2luY2UgZmVlIG1pZGRsZXdhcmUgd2lsbCB3cmFwIHRoZSBJQkNLZWVwZXIgZm9yIHVuZGVybHlpbmcgYXBwbGljYXRpb24uCglhcHAuVHJhbnNmZXJLZWVwZXIgPSBpYmN0cmFuc2ZlcmtlZXBlci5OZXdLZWVwZXIoCgkJYXBwQ29kZWMsIGtleXNbaWJjdHJhbnNmZXJ0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpYmN0cmFuc2ZlcnR5cGVzLk1vZHVsZU5hbWUpLAoJCWFwcC5JQkNGZWVLZWVwZXIsIC8vIElTQzQgV3JhcHBlcjogZmVlIElCQyBtaWRkbGV3YXJlCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCQlhcHAuQWNjb3VudEtlZXBlciwgYXBwLkJhbmtLZWVwZXIsIHNjb3BlZFRyYW5zZmVyS2VlcGVyLAorCQlhdXRodHlwZXMuTmV3TW9kdWxlQWRkcmVzcyhnb3Z0eXBlcy5Nb2R1bGVOYW1lKS5TdHJpbmcoKSwKCSkK"}}),e._v(" "),o("ul",[o("li",[e._v("You should pass the "),o("code",[e._v("authority")]),e._v(" to the IBC keeper. ("),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3640",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3640"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3650",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3650"),o("OutboundLink")],1),e._v(") See "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3640/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a",target:"_blank",rel:"noopener noreferrer"}},[e._v("diff"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"Ly8gYXBwLmdvCgoJLy8gSUJDIEtlZXBlcnMKCWFwcC5JQkNLZWVwZXIgPSBpYmNrZWVwZXIuTmV3S2VlcGVyKAotICAgICAgIGFwcENvZGVjLCBrZXlzW2liY2V4cG9ydGVkLlN0b3JlS2V5XSwgYXBwLkdldFN1YnNwYWNlKGliY2V4cG9ydGVkLk1vZHVsZU5hbWUpLCBhcHAuU3Rha2luZ0tlZXBlciwgYXBwLlVwZ3JhZGVLZWVwZXIsIHNjb3BlZElCQ0tlZXBlciwKKwkJYXBwQ29kZWMsIGtleXNbaWJjZXhwb3J0ZWQuU3RvcmVLZXldLCBhcHAuR2V0U3Vic3BhY2UoaWJjZXhwb3J0ZWQuTW9kdWxlTmFtZSksIGFwcC5TdGFraW5nS2VlcGVyLCBhcHAuVXBncmFkZUtlZXBlciwgc2NvcGVkSUJDS2VlcGVyLCBhdXRodHlwZXMuTmV3TW9kdWxlQWRkcmVzcyhnb3Z0eXBlcy5Nb2R1bGVOYW1lKS5TdHJpbmcoKSwKCSkK"}}),e._v(" "),o("h3",{attrs:{id:"params-migration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#params-migration"}},[e._v("#")]),e._v(" Params migration")]),e._v(" "),o("p",[e._v("Params are now self managed in the following submodules:")]),e._v(" "),o("ul",[o("li",[e._v("ica/controller "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3590",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3590"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("ica/host "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3520",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3520"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("ibc/connection "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3650",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3650"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("ibc/client "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3640",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3640"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("ibc/transfer "),o("a",{attrs:{href:"https://github.com/cosmos/ibc-go/pull/3553",target:"_blank",rel:"noopener noreferrer"}},[e._v("#3553"),o("OutboundLink")],1)])]),e._v(" "),o("p",[e._v("Each module has a corresponding "),o("code",[e._v("MsgUpdateParams")]),e._v(" message with a "),o("code",[e._v("Params")]),e._v(" which can be specified in full to update the modules' "),o("code",[e._v("Params")]),e._v(".")]),e._v(" "),o("p",[e._v("Legacy params subspaces must still be initialised in app.go in order to successfully migrate from x/params to the new self-contained approach. See reference: https://github.com/cosmos/ibc-go/blob/main/testing/simapp/app.go#L1001-L1006")]),e._v(" "),o("h3",{attrs:{id:"transfer-migration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#transfer-migration"}},[e._v("#")]),e._v(" Transfer migration")]),e._v(" "),o("p",[e._v("An automatic migration handler (TODO: add link after https://github.com/cosmos/ibc-go/pull/3104 is merged) is configured in the transfer module to set the "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/95178ce036741ae6aa7af131fa9fccf3e13fff7a/proto/cosmos/bank/v1beta1/bank.proto#L96-L125",target:"_blank",rel:"noopener noreferrer"}},[e._v("denomination metadata"),o("OutboundLink")],1),e._v(" for the IBC denominations of all vouchers minted by the transfer module.")]),e._v(" "),o("h2",{attrs:{id:"ibc-apps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ibc-apps"}},[e._v("#")]),e._v(" IBC Apps")]),e._v(" "),o("p",[e._v("TODO:")]),e._v(" "),o("ul",[o("li",[e._v("https://github.com/cosmos/ibc-go/pull/3303")]),e._v(" "),o("li",[e._v("https://github.com/cosmos/ibc-go/pull/3967")])]),e._v(" "),o("h2",{attrs:{id:"relayers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#relayers"}},[e._v("#")]),e._v(" Relayers")]),e._v(" "),o("ul",[o("li",[e._v("Getter functions in "),o("code",[e._v("MsgChannelOpenInitResponse")]),e._v(", "),o("code",[e._v("MsgChannelOpenTryResponse")]),e._v(", "),o("code",[e._v("MsgTransferResponse")]),e._v(", "),o("code",[e._v("MsgRegisterInterchainAccountResponse")]),e._v(" and "),o("code",[e._v("MsgSendTxResponse")]),e._v(" have been removed. The fields can be accessed directly.")]),e._v(" "),o("li",[o("code",[e._v("channeltypes.EventTypeTimeoutPacketOnClose")]),e._v(" (where "),o("code",[e._v("channeltypes")]),e._v(" is an import alias for "),o("code",[e._v('"github.com/cosmos/ibc-go/v8/modules/core/04-channel"')]),e._v(") has been removed, since core IBC does not emit any event with this key.")]),e._v(" "),o("li",[e._v("Attribute with key "),o("code",[e._v("counterparty_connection_id")]),e._v(" has been removed from event with key "),o("code",[e._v("connectiontypes.EventTypeConnectionOpenInit")]),e._v(" (where "),o("code",[e._v("connectiontypes")]),e._v(" is an import alias for "),o("code",[e._v('"github.com/cosmos/ibc-go/v8/modules/core/03-connection/types"')]),e._v(") and attribute with key "),o("code",[e._v("counterparty_channel_id")]),e._v(" has been removed from event with key "),o("code",[e._v("channeltypes.EventTypeChannelOpenInit")]),e._v(" (where "),o("code",[e._v("channeltypes")]),e._v(" is an import alias for "),o("code",[e._v('"github.com/cosmos/ibc-go/v8/modules/core/04-channel"')]),e._v(") since both (counterparty connection ID and counterparty channel ID) are empty on "),o("code",[e._v("ConnectionOpenInit")]),e._v(" and "),o("code",[e._v("ChannelOpenInit")]),e._v(" respectively.")])]),e._v(" "),o("h2",{attrs:{id:"ibc-light-clients"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ibc-light-clients"}},[e._v("#")]),e._v(" IBC Light Clients")]),e._v(" "),o("ul",[o("li",[e._v("No relevant changes were made in this release.")])])],1)}),[],!1,null,null,null);t.default=r.exports}}]);